<div class="container py-4">
  <div class="card shadow-lg border-0 rounded-4">
    <div class="card-header bg-primary text-white d-flex align-items-center">
      <h2 class="mb-0">üìò Class Schedule Management</h2>
    </div>

    <div class="card-body">
      <!-- Schedule Form -->
      <form [formGroup]="scheduleForm" (ngSubmit)="addSchedule()">
        <div class="row g-3">
          <div class="col-md-6">
            <label for="className" class="form-label fw-bold">Class Name</label>
            <input type="text" id="className" class="form-control" placeholder="e.g. Grade 5, Class A"
              formControlName="className">
          </div>

          <div class="col-md-6">
            <label for="section" class="form-label fw-bold">Section</label>
            <input type="text" id="section" class="form-control" placeholder="e.g. A, B"
              formControlName="section">
          </div>

          <div class="col-md-6">
            <label for="subject" class="form-label fw-bold">Subject</label>
            <input type="text" id="subject" class="form-control" placeholder="e.g. Math, English"
              formControlName="subject">
          </div>

          <div class="col-md-6">
            <label for="dayOfWeek" class="form-label fw-bold">Day of the Week</label>
            <select id="dayOfWeek" class="form-select" formControlName="dayOfWeek">
              <option value="" disabled selected>Select a day</option>
              <option *ngFor="let day of daysOfWeek" [value]="day">{{ day }}</option>
            </select>
          </div>

          <div class="col-md-3">
            <label for="startTime" class="form-label fw-bold">Start Time</label>
            <input type="time" id="startTime" class="form-control" formControlName="startTime">
          </div>

          <div class="col-md-3">
            <label for="endTime" class="form-label fw-bold">End Time</label>
            <input type="time" id="endTime" class="form-control" formControlName="endTime">
          </div>
        </div>

        <div class="mt-4">
          <button type="submit" class="btn btn-success px-4" [disabled]="scheduleForm.invalid">
            ‚ûï Add Schedule
          </button>
        </div>
      </form>
    </div>
  </div>

  <hr class="my-5">

  <!-- üîç Search Input -->
  <div class="row mb-3">
    <div class="col-md-4">
      <label for="searchClass" class="form-label fw-bold">üîç Search by Class</label>
      <input
        type="text"
        id="searchClass"
        class="form-control"
        placeholder="e.g. Grade 1, Grade 5"
        [(ngModel)]="searchTerm"
        name="searchTerm"
      >
    </div>
  </div>

  <!-- Schedule List -->
  <div *ngIf="filteredSchedules.length > 0; else noSchedule">
    <h3 class="mb-3">üìã Class Schedule List</h3>
    <div class="table-responsive">
      <table class="table table-hover table-bordered align-middle shadow-sm">
        <thead class="table-dark">
          <tr>
            <th>ID</th>
            <th>Class</th>
            <th>Section</th>
            <th>Subject</th>
            <th>Day</th>
            <th>Start</th>
            <th>End</th>
            <th class="text-center">Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let schedule of filteredSchedules">
            <td>{{ schedule.id }}</td>
            <td>{{ schedule.className }}</td>
            <td>{{ schedule.section }}</td>
            <td>{{ schedule.subject }}</td>
            <td>{{ schedule.dayOfWeek }}</td>
            <td>{{ schedule.startTime }}</td>
            <td>{{ schedule.endTime }}</td>
            <td class="text-center">
              <button class="btn btn-sm btn-danger" (click)="deleteSchedule(schedule.id)">
                üóë Delete
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <ng-template #noSchedule>
    <div class="alert alert-warning mt-4 text-center">
      ‚ö†Ô∏è No schedules found for the entered class name.
    </div>
  </ng-template>
</div>
