<div class="page-center">
  <div class="d-flex justify-content-center align-items-center min-vh-100 bg-light">


  <div class="marks-container">
    <div class="marks-card">
      <h2 class="title text-center mb-4">ğŸ“ Add / Update Student Marks</h2>

      <form [formGroup]="form" (ngSubmit)="submit()" novalidate class="marks-form">
        <div class="row g-3">
          <div class="col-md-3">
            <label class="form-label">ğŸ‘¤ Student ID *</label>
            <input type="number" class="form-control" formControlName="studentId" placeholder="Enter Student ID" />
            <div class="text-danger mt-1" *ngIf="form.get('studentId')?.touched && form.get('studentId')?.invalid">
              Student ID is required
            </div>
          </div>

          <div class="col-md-2">
            <label class="form-label">ğŸ“˜ Bangla *</label>
            <input type="number" class="form-control" formControlName="marksObtainedBangla" placeholder="Bangla" />
          </div>

          <div class="col-md-2">
            <label class="form-label">ğŸ“— English *</label>
            <input type="number" class="form-control" formControlName="marksObtainedEnglish" placeholder="English" />
          </div>

          <div class="col-md-2">
            <label class="form-label">ğŸ“• Math *</label>
            <input type="number" class="form-control" formControlName="marksObtainedMath" placeholder="Math" />
          </div>

          <div class="col-md-2">
            <label class="form-label">ğŸ§® Total</label>
            <input type="number" class="form-control" formControlName="totalMarks" placeholder="Total" />
          </div>

          <div class="col-md-2">
            <label class="form-label">ğŸ… Grade</label>
            <input type="text" class="form-control" formControlName="grade" placeholder="Grade" />
          </div>

          <div class="col-md-2">
            <label class="form-label">ğŸ“Œ Status</label>
            <input type="text" class="form-control" formControlName="status" placeholder="Status" />
          </div>
        </div>

        <div class="mt-4 d-flex gap-2 justify-content-start align-items-center">
          <button class="btn btn-save" type="submit" [disabled]="loading">ğŸ’¾ Save</button>
          <span *ngIf="loading" class="text-muted">Saving...</span>
        </div>

        <div class="mt-2">
          <div class="text-success" *ngIf="successMsg">{{ successMsg }}</div>
          <div class="text-danger" *ngIf="errorMsg">{{ errorMsg }}</div>
        </div>
      </form>

      <h4 class="mt-5 mb-3 text-center">ğŸ“Š Student Marks List</h4>
      <div class="table-responsive">
        <table class="table table-striped table-hover align-middle colorful-table">
          <thead class="table-header">
            <tr>
              <th>ID</th>
              <th>Student</th>
              <th>Exam</th>
              <th>Bangla</th>
              <th>English</th>
              <th>Math</th>
              <th>Total</th>
              <th>Grade</th>
              <th>Status</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let m of marksList">
              <td>{{ m.id }}</td>
              <td>
                <span *ngIf="m.studentDTO">{{ m.studentDTO.firstName || 'N/A' }} (ID: {{ m.studentDTO.id }})</span>
              </td>
              <td>{{ m.marksObtainedBangla }}</td>
              <td>{{ m.marksObtainedEnglish }}</td>
              <td>{{ m.marksObtainedMath }}</td>
              <td>{{ m.totalMarks }}</td>
              <td>{{ m.grade }}</td>
              <td>{{ m.status }}</td>
              <td>
                <button class="btn btn-sm btn-delete" (click)="delete(m.id)">ğŸ—‘ï¸</button>
              </td>
            </tr>
            <tr *ngIf="marksList.length === 0">
              <td colspan="10" class="text-center text-muted">No data found</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
    </div>
</div>
