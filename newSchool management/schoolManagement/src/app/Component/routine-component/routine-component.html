<div class="container">
  <h2>ğŸ“ Teacher Routine Management</h2>

  <!-- Form Section -->
  <form (ngSubmit)="saveRoutine()" #routineForm="ngForm" class="routine-form">
    <div>
      <label>Class Name:</label>
      <input type="text" required [(ngModel)]="newRoutine.className" name="className" />
    </div>

    <div>
      <label>Subject:</label>
      <input type="text" required [(ngModel)]="newRoutine.subject" name="subject" />
    </div>

    <div>
      <label>Day of Week:</label>
      <select required [(ngModel)]="newRoutine.dayOfWeek" name="dayOfWeek">
        <option value="" disabled selected>Select Day</option>
        <option *ngFor="let day of daysOfWeek" [value]="day">{{ day }}</option>
      </select>
    </div>

    <div>
      <label>Start Time:</label>
      <input type="time" required [(ngModel)]="newRoutine.startTime" name="startTime" />
    </div>

    <div>
      <label>End Time:</label>
      <input type="time" required [(ngModel)]="newRoutine.endTime" name="endTime" />
    </div>

    <!-- <div>
      <label>Teacher ID:</label>
      <input type="number" required [(ngModel)]="newRoutine.teacher?.id" name="teacherId" />
    </div> -->

    <button type="submit" [disabled]="routineForm.invalid">Save Routine</button>
  </form>

  <hr />

  <!-- Table Section -->
  <h3>ğŸ“‹ All Routines</h3>

  <table *ngIf="routines.length > 0">
    <thead>
      <tr>
        <th>ID</th>
        <th>Class</th>
        <th>Subject</th>
        <th>Day</th>
        <th>Start</th>
        <th>End</th>
        <th>Teacher</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let routine of routines">
        <td>{{ routine.id ?? '-' }}</td>
        <td>{{ routine.className }}</td>
        <td>{{ routine.subject }}</td>
        <td>{{ routine.dayOfWeek }}</td>
        <td>{{ routine.startTime }}</td>
        <td>{{ routine.endTime }}</td>
        <td>
          {{ routine.teacher?.firstName ?? 'N/A' }} (ID: {{ routine.teacher?.id ?? '-' }})
        </td>
      </tr>
    </tbody>
  </table>

  <p *ngIf="routines.length === 0">No routines available.</p>
</div>
